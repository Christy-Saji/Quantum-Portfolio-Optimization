<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description"
        content="Quantum Portfolio Optimization using QAOA - Select optimal stocks using quantum computing">
    <title>Quantum Portfolio Optimizer | QAOA</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap"
        rel="stylesheet">
</head>

<body>
    <div class="bg-animation">
        <div class="quantum-particle"></div>
        <div class="quantum-particle"></div>
        <div class="quantum-particle"></div>
        <div class="quantum-particle"></div>
        <div class="quantum-particle"></div>
    </div>

    <div class="container">
        <header class="header">
            <div class="logo">
                <span class="logo-icon">‚öõÔ∏è</span>
                <h1>Quantum Portfolio Optimizer</h1>
            </div>
            <p class="tagline">Harness QAOA for optimal stock selection</p>
        </header>

        <main class="main-content">
            <!-- Stock Selection -->
            <section class="panel stock-panel">
                <div class="panel-header">
                    <h2><span class="icon">üìà</span> Select Stocks</h2>
                    <span class="selected-count" id="selectedCount">0 selected</span>
                </div>
                <div class="stock-grid" id="stockGrid">
                    <div class="loading-placeholder">
                        <div class="spinner"></div>
                        <p>Loading stocks...</p>
                    </div>
                </div>
                <div class="quick-actions">
                    <button class="btn btn-outline" id="selectAllBtn">Select All</button>
                    <button class="btn btn-outline" id="clearAllBtn">Clear All</button>
                </div>
            </section>

            <!-- Configuration -->
            <section class="panel config-panel">
                <div class="panel-header">
                    <h2><span class="icon">‚öôÔ∏è</span> Configuration</h2>
                </div>
                <div class="config-options">
                    <div class="config-group">
                        <label for="portfolioSize">Portfolio Size (k)</label>
                        <p class="config-description">Number of stocks to select</p>
                        <div class="button-group">
                            <button class="size-btn active" data-value="3">3 Stocks</button>
                            <button class="size-btn" data-value="4">4 Stocks</button>
                            <button class="size-btn" data-value="5">5 Stocks</button>
                        </div>
                        <input type="hidden" id="portfolioSize" value="3">
                    </div>
                    <div class="config-group">
                        <label for="riskAversion">Risk Aversion (Œª)</label>
                        <p class="config-description">0 = Max Returns, 1 = Min Risk</p>
                        <div class="slider-container">
                            <input type="range" id="riskAversion" min="0" max="100" value="50">
                            <div class="slider-labels">
                                <span>Returns</span>
                                <span class="slider-value" id="riskValue">0.50</span>
                                <span>Safety</span>
                            </div>
                        </div>
                    </div>
                    <div class="config-group">
                        <label>Sector Diversification</label>
                        <p class="config-description">Prevent overconcentration in one sector</p>
                        <div class="toggle-container">
                            <label class="toggle-switch">
                                <input type="checkbox" id="sectorDiversify">
                                <span class="toggle-slider"></span>
                            </label>
                            <span class="toggle-label" id="sectorToggleLabel">Disabled</span>
                        </div>
                        <div class="sector-limit-group" id="sectorLimitGroup"
                            style="display: none; margin-top: 0.5rem;">
                            <label for="maxPerSector" style="font-size: 0.85rem;">Max stocks per sector</label>
                            <select id="maxPerSector">
                                <option value="1" selected>1 (Maximum diversity)</option>
                                <option value="2">2 (Moderate)</option>
                            </select>
                        </div>
                    </div>
                    <details class="advanced-options">
                        <summary>Advanced QAOA Settings</summary>
                        <div class="advanced-content">
                            <div class="config-group">
                                <label for="qaoaDepth">Circuit Depth (p)</label>
                                <select id="qaoaDepth">
                                    <option value="1" selected>p = 1 (Fast)</option>
                                    <option value="2">p = 2 (Balanced)</option>
                                </select>
                            </div>
                            <div class="config-group">
                                <label for="maxIterations">Max Iterations</label>
                                <input type="number" id="maxIterations" value="50" min="10" max="200">
                            </div>
                            <div class="config-group">
                                <label for="shots">Measurement Shots</label>
                                <select id="shots">
                                    <option value="512">512 (Quick)</option>
                                    <option value="1024" selected>1024 (Standard)</option>
                                    <option value="2048">2048 (Precise)</option>
                                </select>
                            </div>
                        </div>
                    </details>
                </div>
                <button class="btn btn-primary optimize-btn" id="optimizeBtn">
                    <span class="btn-icon">‚öõÔ∏è</span>
                    <span class="btn-text">Optimize Portfolio</span>
                    <span class="btn-loading" style="display: none;">
                        <div class="spinner-small"></div> Running QAOA...
                    </span>
                </button>
            </section>

            <!-- Results -->
            <section class="panel results-panel" id="resultsPanel" style="display: none;">
                <div class="panel-header">
                    <h2><span class="icon">üéØ</span> Optimization Results</h2>
                    <span class="computation-time" id="computationTime"></span>
                </div>
                <div class="results-summary">
                    <div class="metric-card primary">
                        <div class="metric-icon">üìä</div>
                        <div class="metric-content">
                            <span class="metric-value" id="resultReturn">--</span>
                            <span class="metric-label">Expected Return</span>
                        </div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-icon">‚ö†Ô∏è</div>
                        <div class="metric-content">
                            <span class="metric-value" id="resultRisk">--</span>
                            <span class="metric-label">Portfolio Risk</span>
                        </div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-icon">üìà</div>
                        <div class="metric-content">
                            <span class="metric-value" id="resultSharpe">--</span>
                            <span class="metric-label">Sharpe Ratio</span>
                        </div>
                    </div>
                </div>
                <div class="selected-stocks-section">
                    <h3>Selected Portfolio</h3>
                    <div class="selected-stocks-grid" id="selectedStocksGrid"></div>
                </div>
                <div class="qaoa-metrics">
                    <h3>QAOA Performance</h3>
                    <div class="metrics-grid">
                        <div class="mini-metric"><span class="mini-label">Qubits</span><span class="mini-value"
                                id="metricQubits">--</span></div>
                        <div class="mini-metric"><span class="mini-label">Circuit Depth</span><span class="mini-value"
                                id="metricDepth">--</span></div>
                        <div class="mini-metric"><span class="mini-label">QAOA Layers</span><span class="mini-value"
                                id="metricLayers">--</span></div>
                        <div class="mini-metric"><span class="mini-label">Iterations</span><span class="mini-value"
                                id="metricIterations">--</span></div>
                    </div>
                </div>
                <div class="sector-badge-section" id="sectorBadgeSection" style="display: none; margin-bottom: 1.5rem;">
                    <div id="sectorBadge" class="comparison-match-badge"></div>
                </div>
                <div class="comparison-section" id="comparisonSection" style="display: none;">
                    <h3>‚ö° Classical vs Quantum Comparison</h3>
                    <div id="comparisonMatchBadge" class="comparison-match-badge"></div>
                    <div class="table-container">
                        <table class="comparison-table">
                            <thead>
                                <tr>
                                    <th>Metric</th>
                                    <th>üñ•Ô∏è Classical (Brute-Force)</th>
                                    <th>‚öõÔ∏è QAOA (Quantum)</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Selected Stocks</td>
                                    <td id="classicalStocks">--</td>
                                    <td id="qaoaStocks">--</td>
                                </tr>
                                <tr>
                                    <td>Expected Return</td>
                                    <td id="classicalReturn">--</td>
                                    <td id="qaoaReturn">--</td>
                                </tr>
                                <tr>
                                    <td>Portfolio Risk</td>
                                    <td id="classicalRisk">--</td>
                                    <td id="qaoaRisk">--</td>
                                </tr>
                                <tr>
                                    <td>Sharpe Ratio</td>
                                    <td id="classicalSharpe">--</td>
                                    <td id="qaoaSharpe">--</td>
                                </tr>
                                <tr>
                                    <td>Optimal Cost</td>
                                    <td id="classicalCost">--</td>
                                    <td id="qaoaCost">--</td>
                                </tr>
                                <tr>
                                    <td>Computation Time</td>
                                    <td id="classicalTime">--</td>
                                    <td id="qaoaTime">--</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
<<<<<<< Updated upstream
=======

                <!-- Classical vs Quantum Comparison -->
                <div class="comparison-section" id="comparisonSection" style="display: none;">
                    <h3>‚ö° Classical vs Quantum Comparison</h3>
                    <div class="comparison-match-badge" id="comparisonMatchBadge"></div>
                    <div class="table-container">
                        <table id="comparisonTable" class="comparison-table">
                            <thead>
                                <tr>
                                    <th>Metric</th>
                                    <th>üñ•Ô∏è Classical (Brute-Force)</th>
                                    <th>‚öõÔ∏è QAOA (Quantum)</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Selected Stocks</td>
                                    <td id="classicalStocks">--</td>
                                    <td id="qaoaStocks">--</td>
                                </tr>
                                <tr>
                                    <td>Expected Return</td>
                                    <td id="classicalReturn">--</td>
                                    <td id="qaoaReturn">--</td>
                                </tr>
                                <tr>
                                    <td>Portfolio Risk</td>
                                    <td id="classicalRisk">--</td>
                                    <td id="qaoaRisk">--</td>
                                </tr>
                                <tr>
                                    <td>Sharpe Ratio</td>
                                    <td id="classicalSharpe">--</td>
                                    <td id="qaoaSharpe">--</td>
                                </tr>
                                <tr>
                                    <td>Optimal Cost</td>
                                    <td id="classicalCost">--</td>
                                    <td id="qaoaCost">--</td>
                                </tr>
                                <tr>
                                    <td>Computation Time</td>
                                    <td id="classicalTime">--</td>
                                    <td id="qaoaTime">--</td>
                                </tr>
                                <tr>
                                    <td>Method</td>
                                    <td id="classicalMethod">--</td>
                                    <td id="qaoaMethod">--</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Stock Comparison Table -->
>>>>>>> Stashed changes
                <div class="stock-comparison">
                    <h3>Stock Metrics</h3>
                    <div class="table-container">
                        <table id="stockMetricsTable">
                            <thead>
                                <tr>
                                    <th>Stock</th>
                                    <th>Expected Return</th>
                                    <th>Volatility</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody></tbody>
                        </table>
                    </div>
                </div>
            </section>
        </main>

        <footer class="footer">
            <div class="footer-content">
                <p>Powered by <strong>Qiskit</strong> Quantum Simulator</p>
                <p class="footer-note">Running on AerSimulator | NSE/BSE Market Data</p>
            </div>
        </footer>
    </div>

    <div class="toast error-toast" id="errorToast" style="display: none;">
        <span class="toast-icon">‚ùå</span>
        <span class="toast-message" id="errorMessage"></span>
        <button class="toast-close" onclick="hideError()">√ó</button>
    </div>

    <script src="app.js"></script>
</body>

</html>